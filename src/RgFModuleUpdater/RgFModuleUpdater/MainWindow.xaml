<Window x:Class="RgFModuleUpdater.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="RgF Module Updater v1.0.0" Height="600" Width="900"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <Border Grid.Row="0" Background="#2E3440" Padding="20,15">
            <StackPanel>
                <TextBlock Text="RgF Module Updater" FontSize="24" FontWeight="Bold" Foreground="White"/>
                <TextBlock Text="ABLS Firmware Update System" FontSize="14" Foreground="#D8DEE9" Margin="0,5,0,0"/>
                <TextBlock Text="Author: RgF Engineering" FontSize="12" Foreground="#81A1C1" Margin="0,2,0,0"/>
            </StackPanel>
        </Border>
        
        <!-- Main Content -->
        <Grid Grid.Row="1" Margin="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="300"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- Left Panel - Controls -->
            <Border Grid.Column="0" Background="#F8F9FA" BorderBrush="#E9ECEF" BorderThickness="1" Padding="15" Margin="0,0,10,0">
                <StackPanel>
                    <TextBlock Text="Module Status" FontSize="16" FontWeight="Bold" Margin="0,0,0,15"/>
                    
                    <!-- Module Status Cards -->
                    <Border Background="White" BorderBrush="#DEE2E6" BorderThickness="1" Padding="10" Margin="0,0,0,10">
                        <StackPanel>
                            <TextBlock Text="Left Wing Module" FontWeight="Bold" FontSize="14"/>
                            <TextBlock Name="LeftModuleStatus" Text="Status: Checking..." FontSize="12" Margin="0,5,0,0"/>
                            <TextBlock Name="LeftModuleVersion" Text="Version: Unknown" FontSize="12"/>
                            <TextBlock Name="LeftModuleIP" Text="IP: 192.168.1.101" FontSize="11" Foreground="#6C757D"/>
                        </StackPanel>
                    </Border>
                    
                    <Border Background="White" BorderBrush="#DEE2E6" BorderThickness="1" Padding="10" Margin="0,0,0,10">
                        <StackPanel>
                            <TextBlock Text="Centre Module" FontWeight="Bold" FontSize="14"/>
                            <TextBlock Name="CentreModuleStatus" Text="Status: Checking..." FontSize="12" Margin="0,5,0,0"/>
                            <TextBlock Name="CentreModuleVersion" Text="Version: Unknown" FontSize="12"/>
                            <TextBlock Name="CentreModuleIP" Text="IP: 192.168.1.102" FontSize="11" Foreground="#6C757D"/>
                        </StackPanel>
                    </Border>
                    
                    <Border Background="White" BorderBrush="#DEE2E6" BorderThickness="1" Padding="10" Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="Right Wing Module" FontWeight="Bold" FontSize="14"/>
                            <TextBlock Name="RightModuleStatus" Text="Status: Checking..." FontSize="12" Margin="0,5,0,0"/>
                            <TextBlock Name="RightModuleVersion" Text="Version: Unknown" FontSize="12"/>
                            <TextBlock Name="RightModuleIP" Text="IP: 192.168.1.103" FontSize="11" Foreground="#6C757D"/>
                        </StackPanel>
                    </Border>
                    
                    <!-- Action Buttons -->
                    <Button Name="RefreshStatusButton" Content="Refresh Status" Padding="10,8" Margin="0,0,0,10" 
                            Background="#007BFF" Foreground="White" BorderThickness="0" Click="RefreshStatusButton_Click"/>
                    
                    <Separator Margin="0,10"/>
                    
                    <TextBlock Text="Firmware Management" FontSize="16" FontWeight="Bold" Margin="0,10,0,15"/>
                    
                    <ComboBox Name="FirmwareComboBox" Margin="0,0,0,10" Padding="8" SelectionChanged="FirmwareComboBox_SelectionChanged"/>
                    
                    <Button Name="RefreshFirmwareButton" Content="Refresh Firmware List" Padding="10,8" Margin="0,0,0,10"
                            Background="#6C757D" Foreground="White" BorderThickness="0" Click="RefreshFirmwareButton_Click"/>
                    
                    <Separator Margin="0,10"/>
                    
                    <Button Name="UpdateAllButton" Content="Update All Modules" Padding="15,10" Margin="0,10,0,5"
                            Background="#28A745" Foreground="White" BorderThickness="0" FontWeight="Bold" Click="UpdateAllButton_Click"/>
                    
                    <Button Name="UpdateSelectedButton" Content="Update Selected Module" Padding="10,8" Margin="0,0,0,10"
                            Background="#FFC107" Foreground="Black" BorderThickness="0" Click="UpdateSelectedButton_Click"/>
                    
                    <Button Name="OpenFirmwareFolderButton" Content="Open Firmware Folder" Padding="10,8" Margin="0,0,0,10"
                            Background="#17A2B8" Foreground="White" BorderThickness="0" Click="OpenFirmwareFolderButton_Click"/>
                </StackPanel>
            </Border>
            
            <!-- Right Panel - Log Output -->
            <Border Grid.Column="1" Background="White" BorderBrush="#E9ECEF" BorderThickness="1" Padding="15">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                        <TextBlock Text="System Log" FontSize="16" FontWeight="Bold"/>
                        <Button Name="ClearLogButton" Content="Clear" Margin="20,0,0,0" Padding="8,4" 
                                Background="#DC3545" Foreground="White" BorderThickness="0" Click="ClearLogButton_Click"/>
                    </StackPanel>
                    
                    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                        <TextBox Name="LogTextBox" IsReadOnly="True" Background="#F8F9FA" BorderThickness="0" 
                                 FontFamily="Consolas" FontSize="12" TextWrapping="Wrap" AcceptsReturn="True"/>
                    </ScrollViewer>
                    
                    <!-- Progress Bar -->
                    <StackPanel Grid.Row="2" Margin="0,10,0,0">
                        <TextBlock Name="ProgressLabel" Text="Ready" FontSize="12" Margin="0,0,0,5"/>
                        <ProgressBar Name="UpdateProgressBar" Height="20" Minimum="0" Maximum="100" Value="0"/>
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>
        
        <!-- Status Bar -->
        <StatusBar Grid.Row="2" Background="#F8F9FA" BorderBrush="#E9ECEF" BorderThickness="0,1,0,0">
            <StatusBarItem>
                <TextBlock Name="StatusBarText" Text="Ready - HTTP Server: Stopped"/>
            </StatusBarItem>
            <StatusBarItem HorizontalAlignment="Right">
                <StackPanel Orientation="Horizontal">
                    <Ellipse Name="ServerStatusIndicator" Width="10" Height="10" Fill="Red" Margin="0,0,5,0"/>
                    <TextBlock Name="ServerStatusText" Text="Server Offline"/>
                </StackPanel>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
